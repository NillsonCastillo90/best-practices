## Prefiere HTTP/2 sobre HTTP/1

 ### Identificadores

| GreenIT | V2  | V3  | V4  |
| :-----: | :-: | :-: | :-: |
|         |     |     |     |

### Categorías

| Ciclo de vida | Niveles |        Responsable        |
|:-------------:|:-------:|:-------------------------:|
| 4. Producción |   Red   | AdminiStrador del sistema |

### Indicaciones

| Prioridad | Dificultad de implementación | Impacto ecológico |
|:---------:|:----------------------------:|:-----------------:|
|     4     |              4               |         4         |

| Recursos ahorrados |
|:------------------:|
|        Red         |

 ### Descripción

 El protocolo HTTP/2 ha reemplazado las representaciones textuales de solicitudes y respuestas por una binaria utilizando la compresión de encabezados HTTP (HPACK). También permite la multiplexación, lo que permite el uso de una sola conexión TCP (y por lo tanto un único protocolo de enlace TLS) con el servidor aprovechando al máximo HPACK.

Para ir aún más lejos, si otro nombre de dominio se resuelve en la misma dirección IP y es compatible con el certificado TLS, la conexión TCP también se puede reutilizar lo que permite utilizar nombres de dominio distintos sin cookies para recursos estáticos (consulte  [ “Host resources (CSS/JS) on a cookie-free domain” rule](/chapters/BP_094_fr.md)), sin ningún coste adicional que no sea la resolución de DNS. Una extensión HTTP/2 incluso permite guardar esta resolución para los navegadores que la admitan siempre que el servidor la utilice.

 ### Ejemplo

A finales de 2016 Cloudflare pudo evaluar sus ganancias de ancho de banda en comparación con HTTP/1 para más del 50 % de las solicitudes y del 1 % al 15 % de las respuestas según el tipo de intercambio (pocos archivos grandes frente a muchas solicitudes pequeñas).

 ### Fuentes

- [Cloudflare HTTP/2 gains analysis](https://blog.cloudflare.com/hpack-the-silent-killer-feature-of-http-2/)
- [Cloudflare on reusing connections between multiple domains experimentation](https://blog.cloudflare.com/connection-coalescing-experiments/)
- [The ORIGIN HTTP/2 Frame](https://httpwg.org/specs/rfc8336.html)
- 
 ### Regla de validación

| El número de...           | es igual o menor que |
|---------------------------|:--------------------:|
| Solicitudes usando HTTP/1 |          0           |